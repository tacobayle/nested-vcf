{
  "gw": {
    "cpu": 4,
    "memory": 4096,
    "disk": "40G"
  },
  "folders_to_copy": ["bash", "json", "templates", "vcenter", "nsx", "vcf-installer"],
  "directories": ["bin"],
  "apt_packages": ["iptables-persistent", "expect", "bind9", "bind9utils", "dnsutils", "chrony", "nginx"],
  "vsphere_nested_username": "administrator",
  "vsphere_cl_name": "cl-ubuntu",
  "nsx": {
    "pool_start": 32,
    "pool_end": 64,
    "tier0_starting_ip": 11,
    "tier0_vip_starting_ip": 20,
    "config": {
      "uplink_profiles":
      [
        {
          "display_name": "uplink-profile-edge",
          "resource_type": "PolicyUplinkHostSwitchProfile",
          "transport_vlan": 0,
          "teaming": {
            "policy": "FAILOVER_ORDER",
            "active_list": [
              {
                "uplink_name": "uplink-1",
                "uplink_type": "PNIC"
              }
            ]
          }
        }
      ],
      "transport_zones":
      [
        {
          "display_name": "update-VCF-tz_vlan",
          "transport_type": "VLAN"
        }
      ],
      "ip_pools":
      [
        {
          "display_name": "update-ip_pool_tep_edge_overlay",
          "resource_type": "IpAddressPoolStaticSubnet"
        }
      ],
      "segments":
      [
        {
          "display_name": "update-seg-external",
          "vlan_ids": [0],
          "transport_zone": "update-VCF-tz_vlan",
          "description": "Segment configured for tier0 external connectivity",
          "nsx_external": true
        }
      ],
      "basename_edge": "edge-",
      "ips_edge": [21, 22],
      "edge_node": {
        "basename": "edge-0",
        "cpu": 4,
        "memory": 8,
        "data_network": "update-seg-external",
        "host_switch_spec": {
          "host_switches": [
            {
              "host_switch_name": "nsxHostSwitch_overlay",
              "host_switch_type": "NVDS",
              "host_switch_mode": "STANDARD",
              "host_switch_profile_names": [
                "uplink-profile-edge"
              ],
              "pnics": [
                {
                  "device_name": "fp-eth0",
                  "uplink_name": "uplink-1"
                }
              ],
              "ip_pool_name": "update-ip_pool_tep_edge_overlay",
              "transport_zone_names": [
                "VCF-Created-Overlay-Zone"
              ]
            },
            {
              "host_switch_name": "nsxHostSwitch_external",
              "host_switch_type": "NVDS",
              "host_switch_mode": "STANDARD",
              "host_switch_profile_names": [
                "uplink-profile-edge"
              ],
              "pnics": [
                {
                  "device_name": "fp-eth1",
                  "uplink_name": "uplink-1"
                }
              ],
              "transport_zone_names": [
                "update-VCF-tz_vlan"
              ]
            }
          ]
        }
      },
      "edge_clusters":
      [
        {
          "display_name": "edge-cluster-01",
          "members": [
            {
              "display_name": "edge-01"
            },
            {
              "display_name": "edge-02"
            }
          ]
        }
      ],
      "dhcp_servers":
      [
        {
          "display_name": "dhcp-0",
          "server_address": "100.65.222.1/30",
          "lease_time": 86400
        }
      ],
      "tier0s":
      [
        {
          "display_name": "t0-01",
          "edge_cluster_name": "edge-cluster-01",
          "ha_mode": "ACTIVE_STANDBY",
          "interfaces": [
            {
              "edge_name": "edge-01",
              "segment_name": "update-seg-external",
              "type": "EXTERNAL",
              "display_name": "if-ext-0"
            },
            {
              "edge_name": "edge-02",
              "segment_name": "update-seg-external",
              "type": "EXTERNAL",
              "display_name": "if-ext-1"
            }
          ],
          "static_routes": [
            {
              "display_name": "default-route",
              "network": "0.0.0.0/0",
              "next_hops": [
                {
                  "ip_address": "dummy"
                }
              ]
            }
          ],
          "ha_vips": [
            {
              "interfaces": [
                "if-ext-0",
                "if-ext-1"
              ]
            }
          ]
        }
      ],
      "tier1s":
      [
        {
          "tier0": "t0-01",
          "display_name": "t1-01",
          "edge_cluster_name": "edge-cluster-01",
          "ha_mode": "ACTIVE_STANDBY",
          "dhcp_server": "dhcp-0",
          "route_advertisement_types": [
            "TIER1_STATIC_ROUTES",
            "TIER1_CONNECTED",
            "TIER1_LB_VIP"
          ]
        }
      ],
      "segments_overlay":
      [
        {
          "display_name": "seg-mgmt-avi",
          "tier1": "t1-01",
          "transport_zone": "VCF-Created-Overlay-Zone",
          "dhcp_ranges": ["50-99"],
          "avi_ipam_pool_se": "210-230",
          "avi_mgmt": true
        },
        {
          "display_name": "seg-mgmt-tanzu-supervisor",
          "tier1": "t1-01",
          "tanzu_supervisor_starting_ip": "130",
          "tanzu_supervisor_count": 5,
          "transport_zone": "VCF-Created-Overlay-Zone",
          "dhcp_ranges": ["50-99"],
          "avi_ipam_pool_se": "210-230"
        },
        {
          "display_name": "seg-server-1",
          "tier1": "t1-01",
          "dhcp_ranges": ["50-99"],
          "avi_ipam_pool_se": "210-230",
          "transport_zone": "VCF-Created-Overlay-Zone",
          "backend": true
        },
        {
          "display_name": "seg-server-2-preserve-ip",
          "tier1": "t1-03",
          "dhcp_ranges": ["50-99"],
          "avi_ipam_pool_se": "210-230",
          "transport_zone": "VCF-Created-Overlay-Zone",
          "backend": true,
          "server_preserve_ip": true
        },
        {
          "display_name": "seg-vip-1",
          "tier1": "t1-01",
          "dhcp_ranges": ["50-99"],
          "avi_ipam_pool_se": "210-230",
          "avi_ipam_pool_vip": "11-99",
          "transport_zone": "VCF-Created-Overlay-Zone",
          "kube": true,
          "lbaas_private": true
        },
        {
          "display_name": "seg-vip-2",
          "tier1": "t1-02",
          "dhcp_ranges": ["50-99"],
          "avi_ipam_pool_se": "210-230",
          "avi_ipam_pool_vip": "11-99",
          "transport_zone": "VCF-Created-Overlay-Zone",
          "lbaas_public": true
        },
        {
          "display_name": "seg-vip-3-preserve-ip",
          "tier1": "t1-03",
          "dhcp_ranges": ["50-99"],
          "avi_ipam_pool_se": "210-230",
          "avi_ipam_pool_vip": "11-99",
          "transport_zone": "VCF-Created-Overlay-Zone",
          "vip_preserve_ip": true
        },
        {
          "display_name": "seg-nsx-vip",
          "tier1": "t1-04",
          "dhcp_ranges": ["50-99"],
          "lb": true,
          "transport_zone": "VCF-Created-Overlay-Zone"
        }
      ],
      "segment_overlay_file": "/home/ubuntu/nsx/segments_overlay.json"
    }
  }
}